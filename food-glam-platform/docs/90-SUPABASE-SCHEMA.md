# Supabase Schema (Summary)## Tables-profiles -approaches -posts -post_revisions -votes -follows -collections -collection_items -threads -replies -channel_settings -shopping_lists -shopping_list_items -shopping_list_shares -diet_profiles -meal_plans -meal_plan_entries -fasting_plans -meal_plan_days -pantry_items -user_taste_prefs -cook_sessions -user_goals -weight_logs -body_measurements -progress_photos -ingredients_catalog -food_logs -user_health_constraints -activity_logs -water_logs -habits -habit_logs -user_planning_prefs -reports -moderation_actions -user_blocks -app_roles -channel_moderators -user_moderation_stats -user_sanctions ## Constraints-votes unique (post_id, user_id) -follows unique (follower_id, followed_id) -collection_items unique (collection_id, post_id) -meal_plan_days unique (meal_plan_id, date) -weight_logs unique (owner_id, date) -habit_logs unique (habit_id, date) -user_blocks unique (blocker_id, blocked_id) -channel_moderators unique (owner_id, moderator_id) -shopping_list_shares unique (token) ## RLS (high level)-Read posts: public for status=active (draft/pending private) -Write posts: authenticated; update/delete only owner (except moderators) -Votes: authenticated; one per post per user (blocked for banned/suspended users) -Threads/replies: authenticated create; edit own; channel owner moderate; moderated channels can use pending/approval flow (blocked for banned/suspended users) -Collections/shopping lists: private to owner (public/unlisted collections allowed for creator series) -Diet profiles/meal plans: private to owner -Pantry items: private to owner -Health logs/goals: private to owner -Reports/moderation: moderators/admins only